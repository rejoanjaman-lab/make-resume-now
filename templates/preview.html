{% extends "base.html" %}
{% block title %}Preview Resume{% endblock %}

{% block content %}
<div class="toolbar">
  <button onclick="window.print()" class="btn">Download / Print as PDF</button>
  <a href="{{ url_for('index') }}" class="btn btn-secondary">Edit</a>
</div>

<!-- The preview area (styled differently by template selection) -->
<article id="resume-preview" class="resume {{ data.template }}">
  <header class="r-header">
    <h1>{{ data.full_name }}</h1>
    <p class="r-title">{{ data.title }}</p>
    <p class="contact">
      {% if data.email %}Email: {{ data.email }}{% endif %}
      {% if data.phone %} | Phone: {{ data.phone }}{% endif %}
    </p>
  </header>

  {% if data.summary %}
  <section>
    <h3>Summary</h3>
    <p>{{ data.summary }}</p>
  </section>
  {% endif %}

  {% if data.experience %}
  <section>
    <h3>Experience</h3>
    {% for exp in data.experience %}
      <div class="entry">
        <strong>{{ exp.role }} — {{ exp.company }}</strong>
        <div class="meta">{{ exp.period }}</div>
        <p>{{ exp.desc }}</p>
      </div>
    {% endfor %}
  </section>
  {% endif %}

  {% if data.education %}
  <section>
    <h3>Education</h3>
    {% for edu in data.education %}
      <div class="entry">
        <strong>{{ edu.degree }}</strong>
        <div class="meta">{{ edu.school }} — {{ edu.year }}</div>
      </div>
    {% endfor %}
  </section>
  {% endif %}

  {% if data.skills %}
  <section>
    <h3>Skills</h3>
    <p>{{ data.skills | join(', ') }}</p>
  </section>
  {% endif %}
</article>
{% endblock %}
